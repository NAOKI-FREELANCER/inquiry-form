# お問い合わせフォーム

## 開発環境
Cloud9

## 実装に費やした時間
８時間

## 実装中に問題となったこと
#### ・DBへ値をINSERTする際にDBへの登録ができない
原因は、DBの電話番号を登録するカラムに設定していたデータ型（int）が原因でした。
varcharに変更して解決しました。

#### ・DBへ登録しても文字化けしてしまう
原因はCloud9のMySQLのcharacter_setの初期設定がutf8でないことでした。
utf8に変更することで解決しました。

## 実装中に工夫したところ
- クラスのオートロードなどの機能は以前の物を使って開発効率を上げました。
- 今後の開発の際に同じエラーが出てきたときに早く解決できるように、参考にしたサイトはブックマークし、メモをURLと一緒に記録しました。
- 送信後に戻る操作が行われた場合に同じ内容が再送されないような仕様にしました。
- var_dumpやprint_rを使い想定している値か否かを事前に確認し、後でエラーを追う手間を減らすようにしました。

## 改善点
実装するにあたりDBへのINSERTができない問題で解決するのに少し時間が掛かってしまいました。
原因を探すにあたってINSERTする値が間違っていると決めて問題解決に取り掛かった事が時間がかかった原因だと思います。
今後は、様々な側面を疑い柔軟に対応できるようにしたいです。

## どのような動作テストを行ったか
- バリデーションで組み込んだロジック通りにエラーが正しく表示されるか（Emailの形式、電話番号の形式、空の値でないか）
- トークンを有していない、もしくは誤ったトークンからのリクエストに対してエラーを表示するか

## 参考資料又は参考サイト
- https://www.webdesignleaves.com/pr/php/php_phpmailer.php（メール送信実装の際）
- https://26gram.com/aws-cloud9-mysql（DBの文字化け）
